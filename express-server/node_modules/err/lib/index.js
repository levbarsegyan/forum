var typpy = require("typpy");
function Err(error, code, data) {
    if (!typpy(error, Error)) {
        error = new Error(error);
    }
    if (typpy(data, Object)) {
        data.code = code;
    } else if (typpy(code, Object)) {
        data = code;
        code = undefined;
    } else if (!typpy(code, undefined)) {
        data = { code: code };
    }
    if (data) {
        Object.keys(data).forEach(function (c) {
            error[c] = data[c];
        });
    }
    return error;
}
module.exports = Err;
