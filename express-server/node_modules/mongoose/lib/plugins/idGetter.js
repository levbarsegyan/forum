'use strict';
module.exports = function(schema) {
  const autoIdGetter = !schema.paths['id'] &&
    (!schema.options.noVirtualId && schema.options.id);
  if (!autoIdGetter) {
    return;
  }
  schema.virtual('id').get(idGetter);
};
function idGetter() {
  if (this._id != null) {
    return String(this._id);
  }
  return null;
}
